<?xml version="1.0"?>
<openerp>
    <data>
        <!-- demo automated actions add message on new lead after 5 days -->
        <record id="filter_draft_lead" model="ir.filters">
            <field name="name">Draft Leads</field>
            <field name="model_id">crm.lead</field>
            <field name="domain">[('state','=','draft')]</field>
            <field name="user_id" eval="False"/>
        </record>
        <record id="action_email_reminder_lead" model="ir.actions.server">
            <field name="name">Reminder to User</field>
            <field name="model_id" ref="model_crm_lead"/>
            <field name="condition">True</field>
            <field name="type">ir.actions.server</field>
            <field name="state">email</field>
            <field name="email">object.user_id.email</field>
            <field name="subject">Reminder on Lead: [[object.id ]] [[object.partner_id and 'of ' +object.partner_id.name or '']]</field>
            <field name="message">Warning unprocessed incoming lead is more than 5 day old.

Name: [[object.name ]]
ID: [[object.id ]]
Description: [[object.description]]
            </field>
        </record>
        <record id="rule_set_reminder_lead" model="base.action.rule">
            <field name="name">Set Auto Reminder on leads which are not open since 5 days.</field>
            <field name="model_id" ref="model_crm_lead"/>
            <field name="sequence">1</field>
            <field name="filter_id" ref="filter_draft_lead"/>
            <field name="trg_date_id" ref="field_crm_lead_create_date"/>
            <field name="trg_date_range">5</field>
            <field name="trg_date_range_type">day</field>
            <field name="server_action_ids" eval="[(6,0,[ref('action_email_reminder_lead')])]"/>
        </record>
    </data>
</openerp>
